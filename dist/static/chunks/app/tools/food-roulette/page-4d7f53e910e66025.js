(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7126],{1030:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(5155),n=t(2115),a=t(1477),l=t(9239),i=t(8349),d=t(5160);let o=["中餐","西餐","日料","韩餐","火锅","烧烤","快餐","自助餐","面食","米饭","沙拉","寿司","披萨","汉堡","炸鸡","牛排","麻辣烫","米线","饺子","包子","粥","汤","炒菜","炖菜"];function c(){let[e,r]=(0,n.useState)(o),[t,c]=(0,n.useState)(""),[f,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[g,m]=(0,n.useState)(0),b=(0,n.useRef)(null),p=(0,n.useRef)(void 0),v=e=>{c(e);let t=e.split("\n").filter(e=>""!==e.trim());t.length>0?r(t):r(o)};return(0,n.useEffect)(()=>{let r=b.current;if(!r)return;let t=r.getContext("2d");t&&(()=>{let s=r.width,n=r.height,a=s/2,l=n/2,i=Math.min(s,n)/2-10;if(t.clearRect(0,0,s,n),e.length>0){let r=2*Math.PI/e.length;e.forEach((e,s)=>{let n=s*r;t.fillStyle=s%2==0?"#3b82f6":"#60a5fa",t.beginPath(),t.moveTo(a,l),t.arc(a,l,i,n,(s+1)*r),t.closePath(),t.fill(),t.save(),t.translate(a,l),t.rotate(n+r/2),t.textAlign="right",t.fillStyle="white",t.font="12px Arial",t.fillText(e,i-10,4),t.restore()})}t.fillStyle="#ef4444",t.beginPath(),t.arc(a,l,10,0,2*Math.PI),t.fill(),t.fillStyle="#ef4444",t.beginPath(),t.moveTo(a,l-15),t.lineTo(a-10,l),t.lineTo(a+10,l),t.closePath(),t.fill()})()},[e]),(0,n.useEffect)(()=>()=>{p.current&&cancelAnimationFrame(p.current)},[]),(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"吃什么转盘"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"输入你的食物选项，让转盘帮你决定今天吃什么！"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{children:[(0,s.jsx)(a.ZB,{children:"食物选项"}),(0,s.jsx)(a.BT,{children:"每行输入一个食物选项，或者使用默认选项"})]}),(0,s.jsxs)(a.Wu,{className:"space-y-4",children:[(0,s.jsx)(i.T,{value:t,onChange:e=>v(e.target.value),placeholder:"每行输入一个食物选项，例如：\\n中餐\\n西餐\\n日料\\n...",rows:8,className:"resize-none"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(d.E,{variant:"secondary",children:[e.length," 个选项"]}),(0,s.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>v(o.join("\n")),children:"使用默认选项"})]})]})]}),(0,s.jsxs)(a.Zp,{children:[(0,s.jsxs)(a.aR,{children:[(0,s.jsx)(a.ZB,{children:"转盘"}),(0,s.jsx)(a.BT,{children:"点击旋转按钮开始选择"})]}),(0,s.jsxs)(a.Wu,{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("canvas",{ref:b,width:300,height:300,className:"border-2 border-gray-200 rounded-full shadow-lg"})}),(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(l.$,{onClick:()=>{if(0===e.length)return;h(!0),m(e=>e+1);let r=3e3+2e3*Math.random(),t=Date.now(),s=()=>{let n=Math.min((Date.now()-t)/r,1),a=1-Math.pow(1-n,3),l=Math.floor(Math.random()*e.length*(1-.9*a));if(u(e[l%e.length]),n<1)p.current=requestAnimationFrame(s);else{let r=Math.floor(Math.random()*e.length);u(e[r]),h(!1)}};p.current=requestAnimationFrame(s)},disabled:x||0===e.length,className:"w-full",size:"lg",children:x?"旋转中...":"开始旋转"}),f&&(0,s.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-green-600 mb-1",children:"今天吃："}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-800",children:f}),(0,s.jsxs)("p",{className:"text-xs text-green-500 mt-1",children:["已旋转 ",g," 次"]})]})]})]})]})]}),(0,s.jsxs)(a.Zp,{className:"mt-8",children:[(0,s.jsx)(a.aR,{children:(0,s.jsx)(a.ZB,{children:"使用说明"})}),(0,s.jsx)(a.Wu,{children:(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,s.jsx)("li",{children:"• 在左侧文本框中输入你的食物选项，每行一个"}),(0,s.jsx)("li",{children:'• 点击"使用默认选项"可以快速使用常见食物选项'}),(0,s.jsx)("li",{children:'• 点击"开始旋转"按钮，转盘会随机选择一个食物'}),(0,s.jsx)("li",{children:"• 转盘停止后显示的结果就是今天推荐的食物"}),(0,s.jsx)("li",{children:"• 如果不满意结果，可以再次旋转重新选择"})]})})]})]})})}},1477:(e,r,t)=>{"use strict";t.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>i});var s=t(5155),n=t(2115),a=t(8599);let l=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));l.displayName="Card";let i=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let d=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let o=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let c=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},5160:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(5155);t(2115);var n=t(8460),a=t(8599);let l=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,a.cn)(l({variant:r}),e),...t})}},6518:(e,r,t)=>{Promise.resolve().then(t.bind(t,1030))},8349:(e,r,t)=>{"use strict";t.d(r,{T:()=>l});var s=t(5155),n=t(2115),a=t(8599);let l=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));l.displayName="Textarea"},8599:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var s=t(9722),n=t(622);function a(...e){return(0,n.QP)((0,s.$)(e))}},9239:(e,r,t)=>{"use strict";t.d(r,{$:()=>o});var s=t(5155),n=t(2115),a=t(2442),l=t(8460),i=t(8599);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...l},o)=>{let c=n?a.DX:"button";return(0,s.jsx)(c,{className:(0,i.cn)(d({variant:r,size:t,className:e})),ref:o,...l})});o.displayName="Button"}},e=>{e.O(0,[3242,8441,3794,7358],()=>e(e.s=6518)),_N_E=e.O()}]);