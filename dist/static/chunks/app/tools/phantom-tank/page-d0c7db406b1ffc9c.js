(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5747],{2421:(e,a,t)=>{Promise.resolve().then(t.bind(t,7535))},7535:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var s=t(5155),l=t(2115),r=t(1693),n=t(9233);function i(){let{language:e}=(0,r.o)(),a=n.P9[e],[t,i]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[o,x]=(0,l.useState)(""),[m,h]=(0,l.useState)("difference"),[u,g]=(0,l.useState)(50),[p,b]=(0,l.useState)(!1),[j,f]=(0,l.useState)(""),N=(0,l.useRef)(null),v=(0,l.useRef)(null),y=(0,l.useRef)(null);return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:a.phantomTank?.title||"幻影坦克生成器"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:a.phantomTank?.description||"生成在不同背景下显示不同内容的特殊图片效果"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:a.phantomTank?.inputTitle||"图片上传和设置"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:a.phantomTank?.foregroundImage||"前景图片（主要显示内容）"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[(0,s.jsx)("input",{ref:v,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void f(a.phantomTank?.invalidFile||"请上传图片文件");if(t.size>0xa00000)return void f(a.phantomTank?.fileTooLarge||"文件大小不能超过10MB");let s=new FileReader;s.onload=e=>{i(e.target?.result),f("")},s.readAsDataURL(t)},className:"hidden",id:"foreground-input"}),(0,s.jsxs)("label",{htmlFor:"foreground-input",className:"cursor-pointer",children:[(0,s.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDDBC️"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-700 mb-1",children:t?"已上传前景图片":"上传前景图片"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:a.phantomTank?.fileLimit||"支持 JPG, PNG, GIF, WebP 等格式"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:a.phantomTank?.backgroundImage||"背景图片（隐藏内容）"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-green-400 transition-colors",children:[(0,s.jsx)("input",{ref:y,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void f(a.phantomTank?.invalidFile||"请上传图片文件");if(t.size>0xa00000)return void f(a.phantomTank?.fileTooLarge||"文件大小不能超过10MB");let s=new FileReader;s.onload=e=>{c(e.target?.result),f("")},s.readAsDataURL(t)},className:"hidden",id:"background-input"}),(0,s.jsxs)("label",{htmlFor:"background-input",className:"cursor-pointer",children:[(0,s.jsx)("div",{className:"text-4xl mb-3",children:"\uD83C\uDF05"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-700 mb-1",children:d?"已上传背景图片":"上传背景图片"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:a.phantomTank?.fileLimit||"支持 JPG, PNG, GIF, WebP 等格式"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:a.phantomTank?.blendMode||"混合模式"}),(0,s.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"difference",children:"差值模式"}),(0,s.jsx)("option",{value:"multiply",children:"正片叠底"}),(0,s.jsx)("option",{value:"screen",children:"滤色模式"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:{difference:"差值模式：显示两张图片的差异部分",multiply:"正片叠底：模拟印刷中的颜色叠加效果",screen:"滤色模式：产生更亮的混合效果"}[m]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-xs text-gray-500 mb-1",children:[a.phantomTank?.opacity||"透明度"," (",u,"%)"]}),(0,s.jsx)("input",{type:"range",min:"10",max:"100",value:u,onChange:e=>g(Number(e.target.value)),className:"w-full"}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"透明"}),(0,s.jsx)("span",{children:"不透明"})]})]}),j&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-red-700 text-sm",children:j})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)("button",{onClick:()=>{if(!t||!d||!N.current)return void f(a.phantomTank?.noImages||"请上传前景和背景图片");b(!0),f("");try{let e=N.current,a=e.getContext("2d");if(!a)throw Error("无法获取canvas上下文");let s=new Image,l=new Image,r=0,n=()=>{if(r++,2===r){let t=Math.max(s.width,l.width),r=Math.max(s.height,l.height);e.width=t,e.height=r,a.fillStyle="#FFFFFF",a.fillRect(0,0,t,r),a.drawImage(l,0,0,t,r);let n=a.getImageData(0,0,t,r);a.fillStyle="#FFFFFF",a.fillRect(0,0,t,r),a.drawImage(s,0,0,t,r);let i=a.getImageData(0,0,t,r);for(let e=0;e<i.data.length;e+=4){let a,t,s,l=i.data[e],r=i.data[e+1],d=i.data[e+2],c=n.data[e],o=n.data[e+1],x=n.data[e+2];switch(m){case"difference":a=Math.abs(l-c),t=Math.abs(r-o),s=Math.abs(d-x);break;case"multiply":a=l*c/255,t=r*o/255,s=d*x/255;break;case"screen":a=255-(255-l)*(255-c)/255,t=255-(255-r)*(255-o)/255,s=255-(255-d)*(255-x)/255;break;default:a=l,t=r,s=d}let h=u/100;a=Math.floor(a*h+c*(1-h)),t=Math.floor(t*h+o*(1-h)),s=Math.floor(s*h+x*(1-h)),i.data[e]=a,i.data[e+1]=t,i.data[e+2]=s}a.putImageData(i,0,0);let d=e.toDataURL("image/png");x(d),b(!1)}};s.onload=n,l.onload=n,s.src=t,l.src=d}catch(e){f(a.phantomTank?.processingError||"处理失败"),b(!1)}},disabled:p||!t||!d,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:p?a.phantomTank?.generating||"生成中...":a.phantomTank?.generate||"生成幻影坦克"}),(0,s.jsx)("button",{onClick:()=>{i(""),c(""),x(""),f(""),v.current&&(v.current.value=""),y.current&&(y.current.value="")},className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:a.phantomTank?.clear||"清空"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:a.phantomTank?.outputTitle||"幻影坦克效果预览"}),o?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:a.phantomTank?.preview||"幻影坦克效果"}),(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,s.jsx)("img",{src:o,alt:"幻影坦克效果",className:"w-full max-h-64 object-contain rounded"})}),(0,s.jsx)("div",{className:"flex gap-2 mt-3",children:(0,s.jsx)("button",{onClick:()=>{if(!o)return;let e=document.createElement("a");e.download=`phantom-tank-${Date.now()}.png`,e.href=o,e.click()},className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:a.phantomTank?.download||"下载图片"})})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:a.phantomTank?.effectInfo||"效果说明"}),(0,s.jsx)("p",{className:"text-sm text-blue-800",children:a.phantomTank?.effectDescription||"幻影坦克图片在不同背景下会显示不同的内容。尝试将图片放在不同颜色的背景上观察效果变化。"})]})]}):(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDC7B"}),(0,s.jsx)("p",{children:a.phantomTank?.noResult||"请上传前景和背景图片并生成效果"})]})]})]}),(0,s.jsx)("canvas",{ref:N,className:"hidden"}),(0,s.jsxs)("div",{className:"mt-12 bg-white rounded-2xl shadow-lg p-8",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-6",children:a.phantomTank?.featuresTitle||"功能特性"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"bg-purple-100 p-2 rounded-full",children:(0,s.jsx)("span",{className:"text-purple-600 text-lg",children:"\uD83D\uDC7B"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"幻影效果"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"生成在不同背景下显示不同内容的特殊图片"})]})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"bg-green-100 p-2 rounded-full",children:(0,s.jsx)("span",{className:"text-green-600 text-lg",children:"\uD83C\uDFAD"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"多重混合"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"支持差值、正片叠底、滤色等多种混合模式"})]})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,s.jsx)("span",{className:"text-blue-600 text-lg",children:"\uD83D\uDD12"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"隐私保护"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"可用于隐藏敏感信息或创建有趣的视觉效果"})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-blue-50 rounded-2xl p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:a.phantomTank?.usageTitle||"使用说明"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[(0,s.jsx)("li",{children:"上传前景图片（主要显示内容）"}),(0,s.jsx)("li",{children:"上传背景图片（隐藏内容）"}),(0,s.jsx)("li",{children:"选择合适的混合模式和透明度"}),(0,s.jsx)("li",{children:'点击"生成幻影坦克"按钮'}),(0,s.jsx)("li",{children:"预览生成的幻影坦克效果"}),(0,s.jsx)("li",{children:"下载图片并在不同背景下测试效果"})]})]})]})})}}},e=>{e.O(0,[1693,8441,3794,7358],()=>e(e.s=2421)),_N_E=e.O()}]);