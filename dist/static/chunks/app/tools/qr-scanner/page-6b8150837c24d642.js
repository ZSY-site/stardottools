(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{1477:(e,r,s)=>{"use strict";s.d(r,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>n});var t=s(5155),a=s(2115),i=s(8599);let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));l.displayName="Card";let n=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let c=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));c.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let o=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},1975:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(8340).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},4901:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p});var t=s(5155),a=s(2115),i=s(1477),l=s(9239),n=s(8349),c=s(5160),d=s(8340);let o=(0,d.A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);var h=s(1975);let x=(0,d.A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),u=(0,d.A)("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);var m=s(7635),f=s(9199);function p(){let[e,r]=(0,a.useState)(""),[s,d]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),j=(0,a.useRef)(null),b=(0,a.useRef)(null),N=(0,a.useRef)(null),w=e=>new Promise(e=>{setTimeout(()=>{let r=["https://example.com/qr-code","WIFI:S:MyNetwork;T:WPA;P:MyPassword;;","BEGIN:VCARD\nVERSION:3.0\nFN:John Doe\nTEL:1234567890\nEND:VCARD","Hello World!","geo:40.748817,-73.985428"];e(r[Math.floor(Math.random()*r.length)])},1500)}),k=async e=>{let s=e.target.files?.[0];if(s){if(!s.type.startsWith("image/"))return void y("请选择图片文件");d(!0),y("");try{let e=URL.createObjectURL(s),t=await w(e);r(t)}catch(e){y("二维码识别失败，请重试")}finally{d(!1)}}},C=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});j.current&&(j.current.srcObject=e,g(!0))}catch(e){y("无法访问摄像头，请检查权限设置")}},A=()=>{j.current?.srcObject&&j.current.srcObject.getTracks().forEach(e=>e.stop()),g(!1)},M=async()=>{if(!j.current||!b.current)return;d(!0),y("");let e=b.current,s=e.getContext("2d");if(s&&j.current){e.width=j.current.videoWidth,e.height=j.current.videoHeight,s.drawImage(j.current,0,0);try{let s=e.toDataURL("image/png"),t=await w(s);r(t)}catch(e){y("二维码识别失败，请重试")}finally{d(!1)}}},R=async()=>{try{await navigator.clipboard.writeText(e),alert("已复制到剪贴板")}catch(e){console.error("复制失败:",e)}};return(0,a.useEffect)(()=>()=>{A()},[]),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"二维码识别器"}),(0,t.jsx)("p",{className:"text-gray-600",children:"在线识别二维码内容，支持图片上传和摄像头实时扫描"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{className:"w-5 h-5"}),"扫描方式"]}),(0,t.jsx)(i.BT,{children:"选择二维码识别方式"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h3",{className:"font-medium flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),"图片上传"]}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[(0,t.jsx)("input",{ref:N,type:"file",accept:"image/*",onChange:k,className:"hidden",id:"file-input"}),(0,t.jsxs)("label",{htmlFor:"file-input",className:"cursor-pointer",children:[(0,t.jsx)(h.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"点击选择二维码图片"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"支持 JPG, PNG, GIF 格式"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h3",{className:"font-medium flex items-center gap-2",children:[(0,t.jsx)(x,{className:"w-4 h-4"}),"实时扫描"]}),(0,t.jsx)("div",{className:"space-y-2",children:p?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,t.jsx)("video",{ref:j,autoPlay:!0,playsInline:!0,className:"w-full h-48 object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-green-400 rounded-lg pointer-events-none",children:(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-2 border-green-400 rounded-lg"})})]}),(0,t.jsxs)(l.$,{onClick:M,disabled:s,className:"w-full",children:[(0,t.jsx)(u,{className:"w-4 h-4 mr-2"}),s?"识别中...":"扫描二维码"]}),(0,t.jsx)(l.$,{variant:"outline",onClick:A,className:"w-full",children:"关闭摄像头"})]}):(0,t.jsxs)(l.$,{onClick:C,className:"w-full",children:[(0,t.jsx)(x,{className:"w-4 h-4 mr-2"}),"启动摄像头"]})})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"识别结果"}),e&&(0,t.jsx)(c.E,{variant:"secondary",children:e.startsWith("http")?"网址":e.startsWith("WIFI:")?"WiFi连接":e.startsWith("BEGIN:VCARD")?"联系人":e.startsWith("geo:")?"地理位置":"文本"})]}),(0,t.jsx)(i.BT,{children:"二维码识别结果将显示在这里"})]}),(0,t.jsxs)(i.Wu,{children:[s?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"正在识别二维码..."})]}):e?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.T,{value:e,readOnly:!0,className:"min-h-[100px] font-mono text-sm"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.$,{onClick:R,className:"flex-1",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"复制内容"]}),e.startsWith("http")&&(0,t.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,t.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:"打开链接"})})]})]}):(0,t.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,t.jsx)(o,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{children:"识别结果将显示在这里"})]}),v&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:v})})]})]})]}),(0,t.jsx)("div",{className:"flex gap-4 mb-6",children:(0,t.jsxs)(l.$,{onClick:()=>{r(""),y(""),d(!1),A(),N.current&&(N.current.value="")},variant:"outline",className:"flex-1",children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"清空结果"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"使用说明"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,t.jsx)("li",{children:'• 点击"选择二维码图片"上传图片文件进行识别'}),(0,t.jsx)("li",{children:'• 或点击"启动摄像头"使用实时扫描功能'}),(0,t.jsx)("li",{children:"• 将二维码对准摄像头扫描框进行识别"}),(0,t.jsx)("li",{children:"• 识别结果会自动显示在右侧区域"}),(0,t.jsx)("li",{children:"• 支持复制识别结果或直接打开链接"})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"支持格式"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,t.jsx)("li",{children:"• 网址链接 (http/https)"}),(0,t.jsx)("li",{children:"• WiFi连接信息"}),(0,t.jsx)("li",{children:"• 联系人信息 (vCard)"}),(0,t.jsx)("li",{children:"• 地理位置坐标"}),(0,t.jsx)("li",{children:"• 纯文本内容"}),(0,t.jsx)("li",{children:"• 电子邮件地址"}),(0,t.jsx)("li",{children:"• 电话号码"})]})})]})]}),(0,t.jsx)("canvas",{ref:b,className:"hidden"})]})}},5160:(e,r,s)=>{"use strict";s.d(r,{E:()=>n});var t=s(5155);s(2115);var a=s(8460),i=s(8599);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...s}){return(0,t.jsx)("div",{className:(0,i.cn)(l({variant:r}),e),...s})}},5277:(e,r,s)=>{Promise.resolve().then(s.bind(s,4901))},7635:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(8340).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},8340:(e,r,s)=>{"use strict";s.d(r,{A:()=>c});var t=s(2115);let a=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},i=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:c,iconNode:d,...o},h)=>(0,t.createElement)("svg",{ref:h,...l,width:r,height:r,stroke:e,strokeWidth:a?24*Number(s)/Number(r):s,className:i("lucide",n),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]])),c=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...l},c)=>(0,t.createElement)(n,{ref:c,iconNode:r,className:i(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...l}));return s.displayName=a(e),s}},8349:(e,r,s)=>{"use strict";s.d(r,{T:()=>l});var t=s(5155),a=s(2115),i=s(8599);let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));l.displayName="Textarea"},8599:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(9722),a=s(622);function i(...e){return(0,a.QP)((0,t.$)(e))}},9199:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(8340).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},9239:(e,r,s)=>{"use strict";s.d(r,{$:()=>d});var t=s(5155),a=s(2115),i=s(2442),l=s(8460),n=s(8599);let c=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...l},d)=>{let o=a?i.DX:"button";return(0,t.jsx)(o,{className:(0,n.cn)(c({variant:r,size:s,className:e})),ref:d,...l})});d.displayName="Button"}},e=>{e.O(0,[3242,8441,3794,7358],()=>e(e.s=5277)),_N_E=e.O()}]);